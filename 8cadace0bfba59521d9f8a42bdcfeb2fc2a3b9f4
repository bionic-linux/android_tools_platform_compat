{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "173825ad_0edd5d13",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1061164
      },
      "writtenOn": "2021-12-24T12:19:05Z",
      "side": 1,
      "message": "I don\u0027t know if this change is safe. Mathew, have you confirmed the behaviour on Q/R before? Does it crash on access? Does it allow access to hidden api?",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41a57e0b_ba85b02d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2022-01-04T15:38:27Z",
      "side": 1,
      "message": "I guess I\u0027m a bit confused about why this change wouldn\u0027t be safe. Is there something S specific that could go wrong, or is the entire thing untested ?",
      "parentUuid": "173825ad_0edd5d13",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5b0d546_b1325a40",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1061164
      },
      "writtenOn": "2022-01-04T16:01:52Z",
      "side": 1,
      "message": "By the way, this is not a sufficient change by itself, runtime needs to understand max-target-s as well in cs/android/art/libartbase/base/hiddenapi_flags.h.\n\nb/169748350 has some details, but it\u0027s about the implementation of hiddenapi enforcement on Q/R. The list there can go up to max-target-r, and any new flag would be parsed as kInvalid. That has largely undefined behaviour at runtime, thus the question above.\n\nThe problem only occurs if any updatable apex that ships to Q and R (S fixed the problem) has any @UnsupportedAppUsage(max-target-s) defined in its code.",
      "parentUuid": "41a57e0b_ba85b02d",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89b3cac6_4f3d6a4f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2022-01-04T16:03:59Z",
      "side": 1,
      "message": "The accompanying change is : https://android-review.googlesource.com/c/platform/art/+/1931011",
      "parentUuid": "b5b0d546_b1325a40",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3a07147_9d8fbedd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010681
      },
      "writtenOn": "2022-01-06T09:40:01Z",
      "side": 1,
      "message": "I think you also need to update generate_hiddenapi_lists.py as per go/new-max-target-sdk#build-support\n\nYou should also notify zhuoyao@ as we need to follow the other steps on that page that are owner by engprod to keep the other tools working.",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "151124fd_7284fead",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1010681
      },
      "writtenOn": "2022-01-06T13:12:29Z",
      "side": 1,
      "message": "Your TH failure is caused by generate_hiddenapi_lists.py by the look of it - you need to update int he same patchset.",
      "parentUuid": "f3a07147_9d8fbedd",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1502aa7d_0913752a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1061164
      },
      "writtenOn": "2022-01-06T13:25:31Z",
      "side": 1,
      "message": "I am still not sure this change is safe for Q/R devices that would get T apexes.",
      "parentUuid": "89b3cac6_4f3d6a4f",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4059cf8a_2de3bee4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2022-04-28T21:18:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "151124fd_7284fead",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "12bd2e7d_fdf973ee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1039338
      },
      "writtenOn": "2022-04-28T21:18:17Z",
      "side": 1,
      "message": "https://r.android.com/q/topic:max-hiddenapi-level will protect Q/R.",
      "parentUuid": "1502aa7d_0913752a",
      "revId": "8cadace0bfba59521d9f8a42bdcfeb2fc2a3b9f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}